"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseSessionManagerConfig=parseSessionManagerConfig;var _rorLoggerFactory=require("../../proxy/core/logging/rorLoggerFactory");var _configUtils=require("./configUtils");var logger=_rorLoggerFactory.RorLoggerFactory.getLoggerForFile(__filename);function parseSessionManagerConfig(e){var r={storeInIndex:(e===null||e===void 0?void 0:e.store_sessions_in_index)||false,indexName:(e===null||e===void 0?void 0:e.sessions_index_name)||".readonlyrest_kbn_sessions",refreshAfter:(e===null||e===void 0?void 0:e.sessions_refresh_after)||2e3,sessionKey:e===null||e===void 0?void 0:e.cookiePass};var o=e===null||e===void 0?void 0:e.cookiePass;var s=e===null||e===void 0?void 0:e.sessionKey;var n=s||o;if(r.storeInIndex&&!n){logger.error("Either \"readonylrest_kbn.sessionKey\" or \"readonlyrest.cookiePass\" configuration are required when you use \"readonlyrest_kbn.store_sessions_in_index\"",Error("configuration error"));(0,_configUtils.exitInOneSecond)()}return r}