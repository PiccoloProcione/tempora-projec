"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.parseCustomUxCodeInjection=parseCustomUxCodeInjection;var _fs=_interopRequireDefault(require("fs"));var _rorLoggerFactory=require("../../proxy/core/logging/rorLoggerFactory");var logger=_rorLoggerFactory.RorLoggerFactory.getLoggerForFile(__filename);function parseCustomUxCodeInjection(e){if(e==null||!isCustomCodeInjectionConfigPresent(e)){return null}var r=e.kibana_custom_css_inject_file?parseCssFile(e.kibana_custom_css_inject_file):null;return{css:e.kibana_custom_css_inject,cssFileContent:r,js:e.kibana_custom_js_inject}}function isCustomCodeInjectionConfigPresent(e){return e.kibana_custom_css_inject!=null||e.kibana_custom_css_inject_file!=null||e.kibana_custom_js_inject!=null}function parseCssFile(r){var e=null;try{logger.trace("Reading css file from file ".concat(r));e=_fs.default.readFileSync(r).toString()}catch(e){if(e.code==='ENOENT'){logger.error("Custom CSS file not found in the path ".concat(r,"!"))}throw e}return e}