"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rorConfigSchema=void 0;var _configSchema=require("@kbn/config-schema");var _types=require("../proxy/core/common/types");var _logLevel=require("../proxy/core/logging/logLevel");var _defaultValues=require("./defaultValues");var rorConfigSchema=_configSchema.schema.object({identity:_configSchema.schema.object({username:_configSchema.schema.maybe(_configSchema.schema.string()),currentlySelectedGroup:_configSchema.schema.string({defaultValue:'groupA'}),availableGroups:_configSchema.schema.arrayOf(_configSchema.schema.string(),{defaultValue:['groupA','groupB']}),kibanaAccess:_configSchema.schema.string({defaultValue:"ro"}),kibanaHiddenApps:_configSchema.schema.arrayOf(_configSchema.schema.string(),{defaultValue:[]})}),elasticsearch:_configSchema.schema.object({username:_configSchema.schema.maybe(_configSchema.schema.string()),password:_configSchema.schema.maybe(_configSchema.schema.string())}),enabled:_configSchema.schema.boolean({defaultValue:true}),logLevel:_configSchema.schema.string({defaultValue:"info",validate:function e(a){var c=(0,_logLevel.getAcceptedLogLevelValues)();if(c.includes(a)){return}return"must be one of "+c.join(' ,')}}),cookiePass:_configSchema.schema.maybe(_configSchema.schema.string({minLength:32})),cookieName:_configSchema.schema.string({minLength:5,defaultValue:_defaultValues.DEFAULT_KIBANA_YAML_ROR_VALUES.cookieName}),store_sessions_in_index:_configSchema.schema.maybe(_configSchema.schema.boolean({defaultValue:false})),sessions_index_name:_configSchema.schema.maybe(_configSchema.schema.string({defaultValue:".readonlyrest_kbn_sessions"})),sessions_refresh_after:_configSchema.schema.maybe(_configSchema.schema.number({minValue:1,defaultValue:2e3})),sessions_probe_interval_seconds:_configSchema.schema.maybe(_configSchema.schema.number({minValue:10,defaultValue:_defaultValues.DEFAULT_KIBANA_YAML_ROR_VALUES.sessions_probe_interval_seconds})),clearSessionOnEvents:_configSchema.schema.arrayOf(_configSchema.schema.string(),{defaultValue:["login","tenancyHop"]}),session_timeout_minutes:_configSchema.schema.number({defaultValue:_defaultValues.DEFAULT_KIBANA_YAML_ROR_VALUES.session_timeout_minutes,minValue:1}),proxy_auth_passthrough:_configSchema.schema.boolean({defaultValue:false}),custom_logout_link:_configSchema.schema.maybe(_configSchema.schema.string({minLength:6})),custom_login_link:_configSchema.schema.maybe(_configSchema.schema.string({minLength:6})),login_html_head_inject:_configSchema.schema.maybe(_configSchema.schema.string()),login_custom_logo:_configSchema.schema.maybe(_configSchema.schema.string()),login_subtitle:_configSchema.schema.maybe(_configSchema.schema.string({unknowns:'allowed',defaultValue:''})),login_title:_configSchema.schema.maybe(_configSchema.schema.string({unknowns:'allowed',defaultValue:''})),kibana_custom_css_inject:_configSchema.schema.maybe(_configSchema.schema.string()),kibana_custom_css_inject_file:_configSchema.schema.maybe(_configSchema.schema.string()),kibana_custom_js_inject:_configSchema.schema.maybe(_configSchema.schema.string()),jwt_query_param:_configSchema.schema.string({defaultValue:'jwt'}),whitelistedPaths:_configSchema.schema.maybe(_configSchema.schema.arrayOf(_configSchema.schema.string())),forward_auth_header:_configSchema.schema.string({defaultValue:_types.X_FORWARDED_USER}),kibanaIndexTemplate:_configSchema.schema.maybe(_configSchema.schema.string()),groupsMapping:_configSchema.schema.maybe(_configSchema.schema.string()),kibanaIndexTemplateRemoveUserObjects:_configSchema.schema.boolean({defaultValue:false}),pkpKibanaToken:_configSchema.schema.maybe(_configSchema.schema.string()),auth:_configSchema.schema.maybe(_configSchema.schema.any())});exports.rorConfigSchema=rorConfigSchema;