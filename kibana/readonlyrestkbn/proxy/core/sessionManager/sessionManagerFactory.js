"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.SessionManagerFactory=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inMemorySessionManager=require("./inMemorySessionManager");var _indexBasedSessionManager=require("./indexBasedSessionManager");var _esIndexClient=require("./esIndexClient");var _timeUtils=require("../common/timeUtils");var SessionManagerFactory=function(){function e(){(0,_classCallCheck2.default)(this,e)}(0,_createClass2.default)(e,null,[{key:"build",value:function e(r,a,n){var s=_timeUtils.TimeUtils.minutesToMillis(n.timeoutMinutes);var i=new _inMemorySessionManager.InMemorySessionManager(s);if(a.storeInIndex==false){return i}var t=new _esIndexClient.EsIndexClient(a.indexName,a.sessionKey,r);return new _indexBasedSessionManager.IndexBasedSessionManager(s,i,t,a.refreshAfter)}}]);return e}();exports.SessionManagerFactory=SessionManagerFactory;